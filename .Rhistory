mutate(Dispositions = str_replace(Dispositions, "zz do not use Assist", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "FA - TIGHT, ", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "[0]{6}[1]?", "00000"))
# Split information about the individual from other information
stop_df <- stop_df %>%
mutate(Other = str_replace_all(Dispositions, "[ ,]{0,2}[a-zA-Z0-9]{6}", "")) %>%
mutate(Other = str_replace_all(Other, "^[ ,]{0,4}", "")) %>%
mutate(Other = str_replace(Other, ",$", ""))
# Delete other information from Disposition
OtherInformation <- c( "^M$" = "", ", M$" = "", "M, P$" = "", "P[, ]{0,2}" = "", "AR[, ]{0,2}" = "", "IN[, ]{0,2}" = "", "FC[, ]{0,2}" = "", "CO[, ]{0,2}" = "", "MH[, ]{0,2}" = "", "TOW[, ]{0,2}" = "", "0[, ]{0,2}" = "", "00000[, ]{0,2}" = "")
stop_df <- stop_df %>%
mutate(Dispositions = str_replace_all(Dispositions, OtherInformation)) %>%
mutate(Dispositions = str_replace_all(Dispositions, "[, ]{0,2}$", ""))
# Creating new entries for multiple people in one disposition
View(stop_df)
#mutate dispositions column to only contain six character cases
stop_df <- stop_df %>%
separate(Dispositions, into = c("1", "2", "3", "4", "5"), extra = "merge", fill =
"right")
#read data
stop_df <- read.csv("~/Desktop/Berkeley_PD_-_Stop_Data.csv")
# Delete meaningless information and fix typos
stop_df <- stop_df %>%
mutate(Dispositions = as.character(stop_df$Dispositions)) %>%
mutate(Dispositions = str_replace(Dispositions, "zz do not use Assist", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "FA - TIGHT, ", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "[0]{6}[1]?", "00000"))
# Split information about the individual from other information
stop_df <- stop_df %>%
mutate(Other = str_replace_all(Dispositions, "[ ,]{0,2}[a-zA-Z0-9]{6}", "")) %>%
mutate(Other = str_replace_all(Other, "^[ ,]{0,4}", "")) %>%
mutate(Other = str_replace(Other, ",$", ""))
# Delete other information from Disposition
OtherInformation <- c( "^M$" = "", ", M$" = "", "M, P$" = "", "P[, ]{0,2}" = "", "AR[, ]{0,2}" = "", "IN[, ]{0,2}" = "", "FC[, ]{0,2}" = "", "CO[, ]{0,2}" = "", "MH[, ]{0,2}" = "", "TOW[, ]{0,2}" = "", "0[, ]{0,2}" = "", "00000[, ]{0,2}" = "")
stop_df <- stop_df %>%
mutate(Dispositions = str_replace_all(Dispositions, OtherInformation)) %>%
mutate(Dispositions = str_replace_all(Dispositions, "[, ]{0,2}$", ""))
# Creating new entries for multiple people in one disposition
#mutate dispositions column to only contain six character cases
stop_df <- stop_df %>%
separate(Dispositions, into = c("1", "2", "3", "4", "5"), extra = "merge", fill =
"right") %>%
gather(key = Individual, value = Dispositions, 1:5)
View(stop_df)
stop_df <- read.csv("~/Desktop/Berkeley_PD_-_Stop_Data.csv")
View(stop_df)
stop_df <- stop_df %>%
mutate(Dispositions = as.character(stop_df$Dispositions)) %>%
mutate(Dispositions = str_replace(Dispositions, "zz do not use Assist", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "FA - TIGHT, ", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "[0]{6}[1]?", "00000"))
# Split information about the individual from other information
stop_df <- stop_df %>%
mutate(Other = str_replace_all(Dispositions, "[ ,]{0,2}[a-zA-Z0-9]{6}", "")) %>%
mutate(Other = str_replace_all(Other, "^[ ,]{0,4}", "")) %>%
mutate(Other = str_replace(Other, ",$", ""))
# Delete other information from Disposition
OtherInformation <- c( "^M$" = "", ", M$" = "", "M, P$" = "", "P[, ]{0,2}" = "", "AR[, ]{0,2}" = "", "IN[, ]{0,2}" = "", "FC[, ]{0,2}" = "", "CO[, ]{0,2}" = "", "MH[, ]{0,2}" = "", "TOW[, ]{0,2}" = "", "0[, ]{0,2}" = "", "00000[, ]{0,2}" = "")
stop_df <- stop_df %>%
mutate(Dispositions = str_replace_all(Dispositions, OtherInformation)) %>%
mutate(Dispositions = str_replace_all(Dispositions, "[, ]{0,2}$", ""))
View(stop_df)
stop_df <- stop_df %>%
separate(Dispositions, into = c("1", "2", "3", "4", "5"), extra = "merge", fill =
"right") %>%
gather(key = Individual, value = Dispositions, -Incident.Type, -Incident.Number, -Call.Date.Time, -Location, -Other)
View(stop_df)
stop_df <- read.csv("~/Desktop/Berkeley_PD_-_Stop_Data.csv")
# Delete meaningless information and fix typos
stop_df <- stop_df %>%
mutate(Dispositions = as.character(stop_df$Dispositions)) %>%
mutate(Dispositions = str_replace(Dispositions, "zz do not use Assist", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "FA - TIGHT, ", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "[0]{6}[1]?", "00000"))
# Split information about the individual from other information
stop_df <- stop_df %>%
mutate(Other = str_replace_all(Dispositions, "[ ,]{0,2}[a-zA-Z0-9]{6}", "")) %>%
mutate(Other = str_replace_all(Other, "^[ ,]{0,4}", "")) %>%
mutate(Other = str_replace(Other, ",$", ""))
# Delete other information from Disposition
OtherInformation <- c( "^M$" = "", ", M$" = "", "M, P$" = "", "P[, ]{0,2}" = "", "AR[, ]{0,2}" = "", "IN[, ]{0,2}" = "", "FC[, ]{0,2}" = "", "CO[, ]{0,2}" = "", "MH[, ]{0,2}" = "", "TOW[, ]{0,2}" = "", "0[, ]{0,2}" = "", "00000[, ]{0,2}" = "")
stop_df <- stop_df %>%
mutate(Dispositions = str_replace_all(Dispositions, OtherInformation)) %>%
mutate(Dispositions = str_replace_all(Dispositions, "[, ]{0,2}$", ""))
# Creating new entries for multiple people in one disposition
#mutate dispositions column to only contain six character cases
stop_df <- stop_df %>%
separate(Dispositions, into = c("1", "2", "3", "4", "5"), extra = "merge", fill =
"right") %>%
gather(key = Individual, value = Dispositions, -Incident.Type, -Incident.Number, -Call.Date.Time, -Location, -Other) %>%
na.omit() %>%
arrange(Incident.Number)
View(stop_df)
stop_df<- stop_df %>%
filter(nchar(Dispositions) == 6) %>%
mutate(Race = substr(Dispositions,1,1)) %>%
mutate(Gender = substr (Dispositions,2,2)) %>%
mutate(AgeRange = substr (Dispositions,3,3)) %>%
mutate(Reason =substr(Dispositions,4,4)) %>%
mutate(Enforcement = substr(Dispositions,5,5)) %>%
mutate(CarSearch = substr(Dispositions,6,6))
View(stop_df)
View(stop_df)
stop_df <- read.csv("~/Desktop/Berkeley_PD_-_Stop_Data.csv")
# Delete meaningless information and fix typos
stop_df <- stop_df %>%
mutate(Dispositions = as.character(stop_df$Dispositions)) %>%
mutate(Dispositions = str_replace(Dispositions, "zz do not use Assist", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "FA - TIGHT, ", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "[0]{6}[1]?", "00000"))
# Split other information from information about the individual(s)
stop_df <- stop_df %>%
mutate(Other = str_replace_all(Dispositions, "[ ,]{0,2}[a-zA-Z0-9]{6}", "")) %>%
mutate(Other = str_replace_all(Other, "^[ ,]{0,4}", "")) %>%
mutate(Other = str_replace(Other, ",$", ""))
# Delete other information from Disposition
OtherInformation <- c( "^M$" = "", ", M$" = "", "M, P$" = "", "P[, ]{0,2}" = "", "AR[, ]{0,2}" = "", "IN[, ]{0,2}" = "", "FC[, ]{0,2}" = "", "CO[, ]{0,2}" = "", "MH[, ]{0,2}" = "", "TOW[, ]{0,2}" = "", "0[, ]{0,2}" = "", "00000[, ]{0,2}" = "")
stop_df <- stop_df %>%
mutate(Dispositions = str_replace_all(Dispositions, OtherInformation)) %>%
mutate(Dispositions = str_replace_all(Dispositions, "[, ]{0,2}$", ""))
View(stop_df)
stop_df <- stop_df %>%
separate(Dispositions, into = c("1", "2", "3", "4", "5"), extra = "merge", fill = "right") %>%
gather(key = Individual, value = Dispositions, -Incident.Number, -Incident.Type, -Call.Date.Time, -Other, -Location) %>%
na.omit() %>%
arrange(Incident.Number)
View(stop_df)
#read data
stop_df <- read.csv("~/Desktop/Berkeley_PD_-_Stop_Data.csv")
# Delete meaningless information and fix typos
stop_df <- stop_df %>%
mutate(Dispositions = as.character(stop_df$Dispositions)) %>%
mutate(Dispositions = str_replace(Dispositions, "zz do not use Assist", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "FA - TIGHT, ", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "[0]{6}[1]?", "00000"))
# Split other information from information about the individual(s)
stop_df <- stop_df %>%
mutate(Other = str_replace_all(Dispositions, "[ ,]{0,2}[a-zA-Z0-9]{6}", "")) %>%
mutate(Other = str_replace_all(Other, "^[ ,]{0,4}", "")) %>%
mutate(Other = str_replace(Other, ",$", ""))
# Delete other information from Disposition
OtherInformation <- c( "^M$" = "", ", M$" = "", "M, P$" = "", "P[, ]{0,2}" = "", "AR[, ]{0,2}" = "", "IN[, ]{0,2}" = "", "FC[, ]{0,2}" = "", "CO[, ]{0,2}" = "", "MH[, ]{0,2}" = "", "TOW[, ]{0,2}" = "", "0[, ]{0,2}" = "", "00000[, ]{0,2}" = "")
stop_df <- stop_df %>%
mutate(Dispositions = str_replace_all(Dispositions, OtherInformation)) %>%
mutate(Dispositions = str_replace_all(Dispositions, "[, ]{0,2}$", ""))
# Creating new entries for multiple people in one disposition
stop_df <- stop_df %>%
separate(Dispositions, into = c("1", "2", "3", "4", "5"), extra = "merge", fill = "right") %>%
gather(key = Individual, value = Dispositions, -Incident.Number, -Incident.Type, -Call.Date.Time, -Other, -Location) %>%
na.omit() %>%
arrange(Incident.Number)
# Separate information about people
stop_df<- stop_df %>%
filter(nchar(Dispositions) == 6) %>%
mutate(Race = substr(Dispositions,1,1)) %>%
mutate(Gender = substr (Dispositions,2,2)) %>%
mutate(AgeRange = substr (Dispositions,3,3)) %>%
mutate(Reason =substr(Dispositions,4,4)) %>%
mutate(Enforcement = substr(Dispositions,5,5)) %>%
mutate(CarSearch = substr(Dispositions,6,6))
View(stop_df)
library(tidyr)
library(dplyr)
library(stringr)
#Read data
stop_df <- read.csv("~/Desktop/Berkeley_PD_-_Stop_Data.csv")
# Delete meaningless information and fix data entry errors
stop_df <- stop_df %>%
mutate(Dispositions = as.character(stop_df$Dispositions)) %>%
mutate(Dispositions = str_replace(Dispositions, "zz do not use Assist", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "FA - TIGHT, ", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "[0]{6}[1]?", "00000"))
# Isolates information about the case into the Other column
stop_df <- stop_df %>%
mutate(Other = str_replace_all(Dispositions, "[ ,]{0,2}[a-zA-Z0-9]{6}", "")) %>%
mutate(Other = str_replace_all(Other, "^[ ,]{0,4}", "")) %>%
mutate(Other = str_replace(Other, ",$", ""))
# Isolates information about the individual(s) into the Dispositions column
OtherInformation <- c( "^M$" = "", ", M$" = "", "M, P$" = "", "P[, ]{0,2}" = "", "AR[, ]{0,2}" = "", "IN[, ]{0,2}" = "", "FC[, ]{0,2}" = "", "CO[, ]{0,2}" = "", "MH[, ]{0,2}" = "", "TOW[, ]{0,2}" = "", "0[, ]{0,2}" = "", "00000[, ]{0,2}" = "")
stop_df <- stop_df %>%
mutate(Dispositions = str_replace_all(Dispositions, OtherInformation)) %>%
mutate(Dispositions = str_replace_all(Dispositions, "[, ]{0,2}$", ""))
# Arranges information in the Dispositions column into separate objects for each individual involved
stop_df <- stop_df %>%
separate(Dispositions, into = c("1", "2", "3", "4", "5"), extra = "merge", fill = "right") %>%
gather(key = Individual, value = Dispositions, -Incident.Number, -Incident.Type, -Call.Date.Time, -Other, -Location) %>%
na.omit() %>%
arrange(Incident.Number)
# Separates information about the individual into 6 columns describing race, gender, age, reason, enforcement, and car search
stop_df <- stop_df %>%
filter(nchar(Dispositions) == 6) %>%
mutate(Race = substr(Dispositions,1,1)) %>%
mutate(Gender = substr (Dispositions,2,2)) %>%
mutate(AgeRange = substr (Dispositions,3,3)) %>%
mutate(Reason = substr(Dispositions,4,4)) %>%
mutate(Enforcement = substr(Dispositions,5,5)) %>%
mutate(CarSearch = substr(Dispositions,6,6))
View(stop_df)
knitr::opts_chunk$set(echo = TRUE)
library(tidyr)
library(dplyr)
library(stringr)
#Read data
stop_df <- read.csv("~/Desktop/Berkeley_PD_-_Stop_Data.csv")
# Delete meaningless information and fix data entry errors
stop_df <- stop_df %>%
mutate(Dispositions = as.character(stop_df$Dispositions)) %>%
mutate(Dispositions = str_replace(Dispositions, "zz do not use Assist", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "FA - TIGHT, ", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "[0]{6}[1]?", "00000"))
# Isolates information about the case into the Other column
stop_df <- stop_df %>%
mutate(Other = str_replace_all(Dispositions, "[ ,]{0,2}[a-zA-Z0-9]{6}", "")) %>%
mutate(Other = str_replace_all(Other, "^[ ,]{0,4}", "")) %>%
mutate(Other = str_replace(Other, ",$", ""))
# Isolates information about the individual(s) into the Dispositions column
OtherInformation <- c( "^M$" = "", ", M$" = "", "M, P$" = "", "P[, ]{0,2}" = "", "AR[, ]{0,2}" = "", "IN[, ]{0,2}" = "", "FC[, ]{0,2}" = "", "CO[, ]{0,2}" = "", "MH[, ]{0,2}" = "", "TOW[, ]{0,2}" = "", "0[, ]{0,2}" = "", "00000[, ]{0,2}" = "")
stop_df <- stop_df %>%
mutate(Dispositions = str_replace_all(Dispositions, OtherInformation)) %>%
mutate(Dispositions = str_replace_all(Dispositions, "[, ]{0,2}$", ""))
# Arranges information in the Dispositions column into separate objects for each individual involved
stop_df <- stop_df %>%
separate(Dispositions, into = c("1", "2", "3", "4", "5"), extra = "merge", fill = "right") %>%
gather(key = Individual, value = Dispositions, -Incident.Number, -Incident.Type, -Call.Date.Time, -Other, -Location) %>%
na.omit() %>%
arrange(Incident.Number)
# Separates information about the individual into 6 columns describing race, gender, age, reason, enforcement, and car search
stop_df <- stop_df %>%
filter(nchar(Dispositions) == 6) %>%
mutate(Race = substr(Dispositions,1,1)) %>%
mutate(Gender = substr (Dispositions,2,2)) %>%
mutate(AgeRange = substr (Dispositions,3,3)) %>%
mutate(Reason = substr(Dispositions,4,4)) %>%
mutate(Enforcement = substr(Dispositions,5,5)) %>%
mutate(CarSearch = substr(Dispositions,6,6))
View(stop_df)
stop_df <- read.csv("~/Desktop/Berkeley_PD_-_Stop_Data.csv")
# Delete meaningless information and fix data entry errors
stop_df <- stop_df %>%
mutate(Dispositions = as.character(stop_df$Dispositions)) %>%
mutate(Dispositions = str_replace(Dispositions, "zz do not use Assist", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "FA - TIGHT, ", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "[0]{6}[1]?", "00000"))
# Isolates information about the case into the Other column
stop_df <- stop_df %>%
mutate(Other = str_replace_all(Dispositions, "[ ,]{0,2}[a-zA-Z0-9]{6}", "")) %>%
mutate(Other = str_replace_all(Other, "^[ ,]{0,4}", "")) %>%
mutate(Other = str_replace(Other, ",$", ""))
# Isolates information about the individual(s) into the Dispositions column
OtherInformation <- c( "^M$" = "", ", M$" = "", "M, P$" = "", "P[, ]{0,2}" = "", "AR[, ]{0,2}" = "", "IN[, ]{0,2}" = "", "FC[, ]{0,2}" = "", "CO[, ]{0,2}" = "", "MH[, ]{0,2}" = "", "TOW[, ]{0,2}" = "", "0[, ]{0,2}" = "", "00000[, ]{0,2}" = "")
stop_df <- stop_df %>%
mutate(Dispositions = str_replace_all(Dispositions, OtherInformation)) %>%
mutate(Dispositions = str_replace_all(Dispositions, "[, ]{0,2}$", ""))
# Arranges information in the Dispositions column into separate objects for each individual involved
stop_df <- stop_df %>%
separate(Dispositions, into = c("1", "2", "3", "4", "5"), extra = "merge", fill = "right") %>%
gather(key = Individual, value = Dispositions, -Incident.Number, -Incident.Type, -Call.Date.Time, -Other, -Location) %>%
na.omit() %>%
arrange(Incident.Number)
# Separates information about the individual into 6 columns describing race, gender, age, reason, enforcement, and car search
stop_df <- stop_df %>%
filter(nchar(Dispositions) == 6) %>%
mutate(Race = substr(Dispositions,1,1)) %>%
mutate(Gender = substr (Dispositions,2,2)) %>%
mutate(AgeRange = substr (Dispositions,3,3)) %>%
mutate(Reason = substr(Dispositions,4,4)) %>%
mutate(Enforcement = substr(Dispositions,5,5)) %>%
mutate(CarSearch = substr(Dispositions,6,6))
library(tidyr)
library(dplyr)
library(stringr)
#Read data
stop_df <- read.csv("~/Desktop/Berkeley_PD_-_Stop_Data.csv")
# Delete meaningless information and fix data entry errors
stop_df <- stop_df %>%
mutate(Dispositions = as.character(stop_df$Dispositions)) %>%
mutate(Dispositions = str_replace(Dispositions, "zz do not use Assist", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "FA - TIGHT, ", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "[0]{6}[1]?", "00000"))
# Isolates information about the case into the Other column
stop_df <- stop_df %>%
mutate(Other = str_replace_all(Dispositions, "[ ,]{0,2}[a-zA-Z0-9]{6}", "")) %>%
mutate(Other = str_replace_all(Other, "^[ ,]{0,4}", "")) %>%
mutate(Other = str_replace(Other, ",$", ""))
# Isolates information about the individual(s) into the Dispositions column
OtherInformation <- c( "^M$" = "", ", M$" = "", "M, P$" = "", "P[, ]{0,2}" = "", "AR[, ]{0,2}" = "", "IN[, ]{0,2}" = "", "FC[, ]{0,2}" = "", "CO[, ]{0,2}" = "", "MH[, ]{0,2}" = "", "TOW[, ]{0,2}" = "", "0[, ]{0,2}" = "", "00000[, ]{0,2}" = "")
stop_df <- stop_df %>%
mutate(Dispositions = str_replace_all(Dispositions, OtherInformation)) %>%
mutate(Dispositions = str_replace_all(Dispositions, "[, ]{0,2}$", ""))
# Arranges information in the Dispositions column into separate objects for each individual involved
stop_df <- stop_df %>%
separate(Dispositions, into = c("1", "2", "3", "4", "5"), extra = "merge", fill = "right") %>%
gather(key = Individual, value = Dispositions, -Incident.Number, -Incident.Type, -Call.Date.Time, -Other, -Location) %>%
na.omit() %>%
arrange(Incident.Number)
# Separates information about the individual into 6 columns describing race, gender, age, reason, enforcement, and car search
stop_df <- stop_df %>%
filter(nchar(Dispositions) == 6) %>%
mutate(Race = substr(Dispositions,1,1)) %>%
mutate(Gender = substr (Dispositions,2,2)) %>%
mutate(AgeRange = substr (Dispositions,3,3)) %>%
mutate(Reason = substr(Dispositions,4,4)) %>%
mutate(Enforcement = substr(Dispositions,5,5)) %>%
mutate(CarSearch = substr(Dispositions,6,6))
write.csv(stop_df, "cleaned_stop_data.csv")
View(stop_df)
getwd()
library(readr)
stop_df <- read_csv("cleaned_stop_data.csv")
View(stop_df)
names(stop_df)
library(tidyr)
library(dplyr)
library(stringr)
#Read data
stop_df <- read.csv("~/Desktop/Berkeley_PD_-_Stop_Data.csv")
# Delete meaningless information and fix data entry errors
stop_df <- stop_df %>%
mutate(Dispositions = as.character(stop_df$Dispositions)) %>%
mutate(Dispositions = str_replace(Dispositions, "zz do not use Assist", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "FA - TIGHT, ", "")) %>%
mutate(Dispositions = str_replace(Dispositions, "[0]{6}[1]?", "00000"))
# Isolates information about the case into the Other column
stop_df <- stop_df %>%
mutate(Other = str_replace_all(Dispositions, "[ ,]{0,2}[a-zA-Z0-9]{6}", "")) %>%
mutate(Other = str_replace_all(Other, "^[ ,]{0,4}", "")) %>%
mutate(Other = str_replace(Other, ",$", ""))
# Isolates information about the individual(s) into the Dispositions column
OtherInformation <- c( "^M$" = "", ", M$" = "", "M, P$" = "", "P[, ]{0,2}" = "", "AR[, ]{0,2}" = "", "IN[, ]{0,2}" = "", "FC[, ]{0,2}" = "", "CO[, ]{0,2}" = "", "MH[, ]{0,2}" = "", "TOW[, ]{0,2}" = "", "0[, ]{0,2}" = "", "00000[, ]{0,2}" = "")
stop_df <- stop_df %>%
mutate(Dispositions = str_replace_all(Dispositions, OtherInformation)) %>%
mutate(Dispositions = str_replace_all(Dispositions, "[, ]{0,2}$", ""))
# Arranges information in the Dispositions column into separate objects for each individual involved
stop_df <- stop_df %>%
separate(Dispositions, into = c("1", "2", "3", "4", "5"), extra = "merge", fill = "right") %>%
gather(key = Individual, value = Dispositions, -Incident.Number, -Incident.Type, -Call.Date.Time, -Other, -Location) %>%
na.omit() %>%
arrange(Incident.Number)
# Separates information about the individual into 6 columns describing race, gender, age, reason, enforcement, and car search
stop_df <- stop_df %>%
filter(nchar(Dispositions) == 6) %>%
mutate(Race = substr(Dispositions,1,1)) %>%
mutate(Gender = substr (Dispositions,2,2)) %>%
mutate(AgeRange = substr (Dispositions,3,3)) %>%
mutate(Reason = substr(Dispositions,4,4)) %>%
mutate(Enforcement = substr(Dispositions,5,5)) %>%
mutate(CarSearch = substr(Dispositions,6,6))
row.names(stop_df)
help("row.names")
row.names(stop_df) <- NULL
stop_df
View(stop_df)
row.names(stop_df) <- NULL
write.csv(stop_df, "cleaned_stop_data.csv")
View(stop_df)
row.names(stop_df) <- NULL
write.csv(stop_df, "cleaned_stop_data.csv")
View(stop_df)
stop_df <- read_csv("cleaned_stop_data.csv")
View(stop_df)
stop_df <- read_csv("cleaned_stop_data.csv") %>%
[ ,2:]
stop_df <- read_csv("cleaned_stop_data.csv")[, 2:]
library(ggplot2)
stop_df <- read_csv("cleaned_stop_data.csv") %>%
group_by(Race)
View(stop_df)
stop_by <- read_csv("cleaned_stop_data.csv")
stop_race <- stop_by %>%
group_by(Race) %>%
summarise(count = sum(n))
stop_race <- stop_by %>%
group_by(Race
)
stop_race
View(stop_race)
help("group_by")
by_cyl <- group_by(mtcars, cyl)
by_cyl
library(dplyr)
by_cyl <- group_by(mtcars, cyl)
by_cyl
library(readr)
library(ggplot2)
library(dplyr)
stop_by <- read_csv("cleaned_stop_data.csv")
stop_race <- stop_by %>%
group_by(Race)
stop_race
stop_df <- read_csv("cleaned_stop_data.csv")
stop_race <- stop_df %>%
group_by(Race)
stop_df$Race
help("read_csv")
stop_df$Race <- as.factor(stop_df$Race)
top_race <- stop_df %>%
group_by(Race)
top_race
View(top_race)
clear
clean
clear()
stop_race <- stop_df %>%
group_by(Race) %>%
summarise(count = count())
library(readr)
library(ggplot2)
library(dplyr)
rm(list = ls())
library(readr)
library(ggplot2)
library(dplyr)
stop_by <- read_csv("cleaned_stop_data.csv")
stop_race <- stop_by %>%
group_by(Race) %>%
summarise(count = count())
stop_race <- stop_by %>%
group_by(Race) %>%
summarise(count = n())
View(stop_race)
View(stop_race)
stop_race <- stop_by %>%
group_by(Race, Gender) %>%
summarise(count = n())
View(stop_race)
stop_by <- read_csv("cleaned_stop_data.csv")
stop_df$Race <- as.factor(stop_df$Race)
stop_race <- stop_by %>%
group_by(Race, Gender) %>%
summarise(Count = n())
stop_by <- read_csv("cleaned_stop_data.csv")
stop_by$Race <- as.factor(stop_by$Race)
stop_race <- stop_by %>%
group_by(Race, Gender) %>%
summarise(Count = n())
ggplot(stop_race, aes(x = Race, y = count, fill = Gender)) + geom_bar()
ggplot(stop_race, aes(x = Race, y = Count, fill = Gender)) + geom_bar()
stop_race <- stop_by %>%
group_by(Race, Gender) %>%
summarise(Count = n())
ggplot(stop_race, aes(x = Race, y = Count, fill = Gender)) + geom_bar()
stop_race <- stop_by %>%
group_by(Race, Gender) %>%
summarise(Count = n()) %>%
group_by(Race) %>%
mutate(sum = sum(Count))
View(stop_race)
ggplot(stop_race, aes(x = Race, y = sum, fill = Gender)) + geom_bar()
ggplot(stop_race, aes(x = Race, y = sum)) + geom_bar()
ggplot2(stop_race, aes(x = Race, y = sum)) + geom_bar()
library(ggplot2)
ggplot()
help(ggplot)
ggplot(stop_race, aes(x = Race, y = sum)) + geom_bar()
help(ggplot)
ggplot(stop_race)
ggplot(stop_race, aes(x = Race, y = sum)) + geom_curve()
ggplot(stop_race, aes(x = Race, y = sum)) + geom_bar()
help("geom_bar")
ggplot(stop_by, aes(x = Race, fill = Gender)) + geom_count()
ggplot(stop_by, aes(x = Race, fill = Gender)) + geom_bar()
View(stop_by)
stop_age <- ggplot(stop_by, aes(x = AgeRange, fill = Gender)) + geom_bar()
stop_age <- ggplot(stop_by, aes(x = AgeRange, fill = Gender)) + geom_bar()
stop_age
stop_reason <- ggplot(stop_by, aes(x = Reason, fill = Gender)) + geom_bar()
stop_reason
library(lubridate)
stop_by$Call.Date.Time <- mdy_hm(stop_by$Call.Date.Time)
View(stop_by)
hours(now)
hours(now())
library(lubridate)
library(lubridate)
hours(now())
hour(now())
minute(now())
stop_by <- stop_by %>%
mutate(hour = hour(Call.Date.Time))
stop_time <- ggplot(stop_by, aes(x = hour, fill = Gender)) + geom_bar()
stop_time
stop_time <- ggplot(stop_by, aes(x = hour, fill = AgeRange)) + geom_bar()
stop_time
stop_time <- ggplot(stop_by, aes(x = hour, color = AgeRange)) + geom_bar()
stop_time
View(stop_by)
stop_time <- ggplot(stop_by, aes(x = hour, color = AgeRange)) + geom_bar()
stop_time
stop_time <- ggplot(stop_by, aes(x = hour, color = Gender)) + geom_bar()
stop_time
stop_time <- ggplot(stop_by, aes(x = hour, fill = Gender)) + geom_bar()
stop_time
stop_time <- ggplot(stop_by, aes(x = hour, fill = Reason)) + geom_bar()
stop_time
stop_time <- ggplot(stop_by, aes(x = hour, fill = Race)) + geom_bar()
stop_time <- ggplot(stop_by, aes(x = hour, fill = Race)) + geom_bar()
stop_time
stop_time <- ggplot(stop_by, aes(x = hour, fill = AgeRange)) + geom_bar()
stop_time
stop_time <- ggplot(stop_by, aes(x = hour, fill = CarSearch)) + geom_bar()
stop_time
stop_time <- ggplot(stop_by, aes(x = hour, fill = Age)) + geom_bar()
stop_time
stop_time
stop_time <- ggplot(stop_by, aes(x = hour, fill = AgeRange)) + geom_bar()
stop_time
typeof(stop_by$AgeRange)
stop_by$AgeRange <- as.factor(stop_by$AgeRange)
stop_time <- ggplot(stop_by, aes(x = hour, fill = AgeRange)) + geom_bar()
stop_time
stop_race <- ggplot(stop_by, aes(x = Race, fill = AgeRange)) + geom_bar()
stop_race
